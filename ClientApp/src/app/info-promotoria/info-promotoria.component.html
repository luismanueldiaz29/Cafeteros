<!-- inicio del navbar -->
<nav class="navbar navbar-expand-md navbar-light animated bounceInRight no-print" >
    <div class="row">
        <div class="col-md-12 ml-auto bg-dark fixed-top py-2 top-navbar">              
            <div class="row align-items-center">
            <div class="col-md-4">
                <h4 class="text-light text-uppercase mb-0">Cafeteros de Colombia</h4>
            </div>
            <div class="col-md-5">
                <form>
                <div class="input-group" readonly>
                    
                </div>
                </form>
            </div>
            <div class="col-md-3">
                <ul class="navbar-nav">
                <li class="nav-item ml-md-auto"><a href="#" class="nav-link" data-toggle="modal" data-target="#sign-out"><i class="fas fa-sign-out-alt text-danger fa-lg"></i></a></li>
                </ul>
            </div>
            </div>
        </div>
    </div>
</nav>
<!-- fin de navbar -->

<!-- inicio de la carta -->

<section>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-11 m-auto">
                <div class="row pt-md-5 mt-md-3 mb-5">
                    <div class="col-md-12">
                        <div class="content">
                            <div class="content animated bounceInUp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="card">
                                                <div class="header">
                                                    <button mat-icon-button [matMenuTriggerFor]="menu" class="close" aria-label="Close Example icon-button with a menu">
                                                        <mat-icon>more_vert</mat-icon>
                                                    </button>

                                                    <mat-menu #menu="matMenu">
                                                        <button mat-menu-item class="navbar-toggler bg-light" type="button" data-toggle="modal" data-target="#modalCart">
                                                            <img class="mr-3" src="assets/date.png" alt="date">
                                                            <span>Fechas</span>
                                                        </button>
                                                        <button  mat-menu-item type="button" (click)="volver()"  >
                                                            <img class="mr-3" src="assets/regreso.png" alt="Volver">
                                                            <span>Volver</span>
                                                        </button>
                                                    </mat-menu>
                                                    
                                                    <div class="p-md-2">
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <img src="assets/logo-seynekun.png" alt="Logo">
                                                            </div>
                                                            <div class="col-md-6 mt-5">
                                                                <h4 class="title">Seguimiento de visita</h4>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="content">
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="from-group">
                                                                <label>Fecha visita</label>
                                                                <input type="text" class="form-control" [(ngModel)]="Visita.fechaVisita" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Hora de visita</label>
                                                                <input type="text" class="form-control" [(ngModel)]="Visita.horaVisita" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Proxima visita</label>
                                                                <div *ngIf="Visita.fechaProxVista == ''; else dateNull">
                                                                    <input type="text" class="form-control" [(ngModel)]="NoRegistrada" readonly>
                                                                </div>
                                                                <ng-template #dateNull>
                                                                    <input type="text" class="form-control" [(ngModel)]="Visita.fechaProxVista" readonly>
                                                                </ng-template>
                                                            </div>
                                                        </div>
                                                    </div>
                                                
                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <div class="form-group">
                                                                <label>Nombre del productor</label>
                                                                <input type="text" class="form-control" [(ngModel)]="productor.nombre" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-5">
                                                            <div class="form-group">
                                                                <label>Cedula</label>
                                                                <input type="text" class="form-control" [(ngModel)]="productor.id" readonly>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <div class="form-group">
                                                                <label>Nombre de la finca o predio</label>
                                                                <input type="text" class="form-control" [(ngModel)]="productor.nombrePredio" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Codigo</label>
                                                                <input type="text" class="form-control" [(ngModel)]="productor.codigoCafetero" readonly>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <div class="form-group">
                                                                <label>Municipio</label>
                                                                <input type="text" class="form-control" [(ngModel)]="productor.municipio" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-5">
                                                            <div class="form-group">
                                                                <label>Vereda</label>
                                                                <input type="text" class="form-control" [(ngModel)]="productor.vereda" readonly>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <br>
                                                    <div class="row">
                                                        <div class="col-md-2"></div>
                                                        <div class="col-md-8">
                                                            <div class="form-group">
                                                                <label>Objetivo de la visita</label>
                                                                <textarea type="text" class="md-textarea form-control" [(ngModel)]="Visita.objetivoVisita" readonly></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>
                                                    <div class="row">
                                                        <div class="col-md-2"></div>
                                                        <div class="col-md-8">
                                                            <div class="form-group">
                                                                <label>Situacion encontrada(Avances, dificultades): </label>
                                                                <textarea type="text" class="md-textarea form-control" [(ngModel)]="Visita.situacionEncontrada" readonly></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br>
                                                    <div class="row">
                                                        <div class="col-md-2"></div>
                                                        <div class="col-md-8">
                                                            <div class="form-group">
                                                                <label>Intercambio de saberes (practicas, conocimientos propios, experiencia, recomendaciones): </label>
                                                                <textarea type="text" class="md-textarea form-control" [(ngModel)]="Visita.intercambioSaberes" readonly></textarea>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <hr>

                                                    <div class="content">
                                                        <div class="row">
                                                            <div class="col-md-2"></div>
                                                            <div class="col-md-8">
                                                                <h5 class="title title-center">Labores realizadas</h5>
                                                                <div class="table-responsive table-full-width">
                                                                    <table class="table table-striped table-bordered">
                                                                        <thead>
                                                                            <tr>
                                                                                <th class="title title-center">ACTIVIDAD</th>
                                                                                <th class="title title-center">FECHA</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr *ngFor = "let laboresRealizada of LaboresRealizada">
                                                                                <td>
                                                                                    {{laboresRealizada.actividad}}
                                                                                </td>
                                                                                <td>
                                                                                    {{laboresRealizada.fecha}}
                                                                                </td>
                                                                                
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-10"></div>
                                                        </div>

                                                        <hr>

                                                        <div class="row">
                                                            <div class="col-md 2"></div>
                                                            <div class="col-md-8">
                                                                <h5 class="title title-center">labores programadas</h5>
                                                                <div class="table-responsive table-full-width">
                                                                    <table class="table table-striped table-bordered">
                                                                        <thead>
                                                                            <tr>
                                                                                <th class="title title-center">COMPROMISO O ACTIVIDAD</th>
                                                                                <th class="title title-center">FECHA</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr *ngFor = "let laboreProgramada of laboresProgramada">
                                                                                <td>
                                                                                    {{laboreProgramada.actividad}}
                                                                                </td>
                                                                                <td>
                                                                                    {{laboreProgramada.fecha}}
                                                                                </td>

                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-2"></div>
                                                        </div> 
                                                    </div>

                                                    <div class="Imprimir mt-md-5 mb-md-5">
                                                        <button class="btn btn-primary" onclick="window.print();">Imprimir</button>
                                                    </div>                                                    

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
                

<!-- Modal: modalCart -->
<div class="modal fade fadebd-example-modal-lg" data-backdrop="static" id="modalCart" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <h4 class="title white-text">Lista de productores</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" class="white-text title">X</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">

        <h5 class="title title-center"> Selecionar Productor</h5>

        <!-- Table -->
        <div class="table-responsive table-full-width">
            <table class="table table-hover table-striped table-bordered">
                <thead>
                        <tr>
                            <th class="title">Fecha</th>
                            <th class="title">Hora</th>
                            <th class="title">Fecha proxima visita</th>
                        </tr>
                </thead>
                <tbody>
                                                                                
                    <tr *ngFor="let visita of visitas" (click)="visitaConsultar(visita)" data-dismiss="modal" aria-label="Close">
                        <td>
                            {{visita.fechaVisita}}
                        </td>
                        <td>
                            {{visita.horaVisita}}
                        </td>
                        <td>
                            <div *ngIf="visita.fechaProxVista == ''; else fechaprox">No registrada</div>
                            <ng-template #fechaprox>
                                {{visita.fechaProxVista}}
                            </ng-template>
                        </td>
                    </tr>
                </tbody>
                </table>
        </div>
        <!-- end table -->

      </div>
      <!--Footer-->
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal: modalCart -->
<!-- end of modal -->
