<!-- <app-nav-menu></app-nav-menu> -->
<!-- inicio del navbar -->
<nav class="navbar navbar-expand-md navbar-light animated bounceInRight no-print" >
    <div class="row">
        <div class="col-md-12 ml-auto bg-dark fixed-top py-2 top-navbar">              
            <div class="row align-items-center">
            <div class="col-md-4">
                <h4 class="text-light text-uppercase mb-0">Cafeteros de Colombia</h4>
            </div>
            <div class="col-md-5">
                <form>
                <div class="input-group" readonly>
                    
                </div>
                </form>
            </div>
            <div class="col-md-3">
                <ul class="navbar-nav">
                <li class="nav-item ml-md-auto"><a href="#" class="nav-link" data-toggle="modal" data-target="#sign-out"><i class="fas fa-sign-out-alt text-danger fa-lg"></i></a></li>
                </ul>
            </div>
            </div>
        </div>
    </div>
</nav>
<!-- fin de navbar -->

<!-- inicio de la carta -->
<section>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-11 m-auto">
                <div class="row pt-md-5 mt-md-3 mb-5">
                    <div class="col-md-12">
                        <div class="content">
                            <div class="content animated bounceInUp">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="card">
                                                <div class="header">
                                                    <button type="button" class="close" (click)="volver()"aria-label="Close">
                                                        <img src="assets/regreso.png" alt="Volver">
                                                    </button>
                                                    <div class="p-md-2">
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <img src="assets/logo-seynekun.png" alt="Logo">
                                                            </div>
                                                            <div class="col-md-6 mt-5">
                                                                <h4 class="title">Informacion del productor</h4>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="content">

                                                    <div class="row mb-3">
                                                        <div class="col-md-3">
                                                            <div class="form-group">
                                                                <label>Fecha de realización de la solicitud</label>
                                                                <input type="text" name="fecha" [(ngModel)]="productor.fechaRegistro" class="form-control" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group">
                                                                <label>Estado de la solicitud</label>
                                                                <input type="text" name="estado" class="form-control" [(ngModel)]="estado" readonly>
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="col-md-3 mt-4">
                                                            <div class="form-group">
                                                                <label for="btn">Modificar estado : </label>
                                                                <button class="navbar-toggler bg-light" type="button" data-toggle="modal" data-target="#modalCart">
                                                                    <img src="assets/agriculture.png" alt="">
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- datos personales -->
                                                    <h5 class="title title-center">Datos personales del productor</h5>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Nombre del productor</label>
                                                                <input type="text" class="form-control" name="nombre" [(ngModel)]="productor.nombre"  readonly>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Nº de cedula</label>
                                                                <input type="text" class="form-control" name="id" [(ngModel)]= "productor.id" readonly>
                                                            </div>
                                                        </div>
            
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Codigo cafetero</label>
                                                                <input type="text" class="form-control" name="codigoCafetero" [(ngModel)] = "productor.codigoCafetero"  readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                    
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Nombre del predio</label>
                                                                <input type="text" class="form-control" name="nombrePredio" [(ngModel)] = "productor.nombrePredio"  readonly>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                          <div class="form-group">
                                                              <label>Codigo de Finca</label>
                                                              <input type="text" class="form-control"   readonly>
                                                          </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Codigo SICA</label>
                                                                <input type="text" class="form-control" name="codigoSica" [(ngModel)] = "productor.codigoSica"  readonly>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Municipio</label>
                                                                <input type="text" class="form-control" name="municipio" [(ngModel)] = "productor.municipio" placeholder="Municipio" readonly>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Vereda</label>
                                                                <input type="text" class="form-control" name="vereda" [(ngModel)] = "productor.vereda" placeholder="Vereda" readonly>
                                                                
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                          <div class="form-group">
                                                              <label>Numero de telefono</label>
                                                              <input type="text" class="form-control" name="numeroTelefono" [(ngModel)] = "productor.numeroTelefono" placeholder="Numero de telefono" readonly>
                                                              
                                                          </div>
                                                      </div>
                                                    </div>
                                                    
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Afiniacion a salud</label>
                                                                <input type="text" class="form-control" name="afiliacionSalud" [(ngModel)] = "productor.afiliacionSalud" placeholder="Afiniacion a salud" readonly>
                                                            </div>
                                                        </div>
            
                                                        <div class="col-md-7">
                                                            <div class="form-group">
                                                                <label>Actividad(es) principal de ingreso</label>
                                                                <input type="text" class="form-control" name="actvidadesDedican" [(ngModel)] = "productor.actvidadesDedican" placeholder="Actividad a la que se dedica" readonly>
                                                            </div>
                                                      </div>
                                                    </div>
                                                    <!-- fin datos personales -->

                                                    
                                                    <!-- datos familiares -->
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <h5 class="title title-center">Datos Familiares</h5>
                                                            <div class="table-full-width">
                                                                <table class="table table-striped table-bordered">
                                                                <thead>
                                                                        <tr>
                                                                            <th class="title">Nombre</th>
                                                                            <th class="title">Documento</th>
                                                                            <th class="title">Fecha Nacimiento</th>
                                                                            <th class="title">Parentesco</th>
                                                                            <th class="title">Tipo Poblacion</th>
                                                                            <th class="title">Afiliacion salud</th>
                                                                            <th class="title">Nivel Educativo</th>
                                                                        </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <!-- <tr *ngFor="let familiar of familiares; let i = index" class="p">
                                                                        
                                                                        <td>
                                                                            <input [(ngModel)]="familiar.nombre" class="form-control" type="text" name="{{familiar.Nombre}}" />
                                                                        </td>
                                                                        <td>
                                                                            <input [(ngModel)]="familiar.numeroDocumento" class="form-control" type="text" name="{{familiar.NumeroDocumento}}" />
                                                                        </td>
                                                                        <td>
                                                                            <input [(ngModel)]="familiar.fechaNacimiento" class="form-control" type="date" name="{{familiar.FechaNacimiento}}" />
                                                                        </td>
                                                                        <td>
                                                                        <input [(ngModel)]="familiar.parentesco" class="form-control" type="text" name="{{familiar.Parentesco}}" />
                                                                        </td>
                                                                        <td>
                                                                        <input [(ngModel)]="familiar.tipoPoblacion" class="form-control" type="text" name="{{familiar.TipoPoblacion}}" />
                                                                        </td>
                                                                        <td>
                                                                        <input [(ngModel)]="familiar.afiliacionSalud" class="form-control" type="text" name="{{familiar.AfiliacionSalud}}" />
                                                                        </td>
                                                                        <td>
                                                                        <input [(ngModel)]="familiar.nivelEducativo" class="form-control" type="text" name="{{familiar.NivelEducativo}}" />
                                                                        </td>
                                                                    </tr> -->
                                                                    
                                                                    <tr *ngFor="let familiar of familiares; let i = index" class="p">
                                                                        
                                                                        <td>
                                                                            {{familiar.nombre}}
                                                                        </td>
                                                                        <td>
                                                                            {{familiar.numeroDocumento}}
                                                                        </td>
                                                                        <td>
                                                                            {{familiar.fechaNacimiento}}
                                                                        </td>
                                                                        <td>
                                                                            {{familiar.parentesco}}
                                                                        </td>
                                                                        <td>
                                                                            {{familiar.tipoPoblacion}}
                                                                        </td>
                                                                        <td>
                                                                            {{familiar.afiliacionSalud}}
                                                                        </td>
                                                                        <td>
                                                                            {{familiar.nivelEducativo}}
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                        </div>
                                                    </div>
                                                    <!-- fin datos familiares -->

                                                    <!-- Aspecto socioeconomicos -->
                                                    <h5 class="title title-center">Aspectos Socio Economicos</h5>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                            <label>Tenencia de tierra</label>
                                                            <input type="text" name="tenenciaTierra" [(ngModel)] = "aspectoEconomico.tenenciaTierra" class="form-control" readonly>
                                                            </div>
                                                        </div>
                
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                            <label>Legalidad</label>
                                                            <input type="text" name="legalidad" [(ngModel)] = "aspectoEconomico.legalidad" class="form-control" readonly>                                         
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- fin aspectos socioeconomicos -->

                                                    <!-- participacion comunitaria -->
                                                    <h5 class="title title-center mt-2 mb-2">Participacion comunitaria</h5>
                                                    
                                                    <div class="row">
                                                        <!-- inicio row -->
                                                        <div class="col-md-4">
                                                          <div class="form-group">
                                                            <Label>Asistente a la asamblea comunitarias</Label>
                                                            <div *ngIf = "participacionComunitaria.asistenteAsamblea == 'NO'; else asistenteAsamblea">
                                                                <input type="text" name="asistenteAsamblea" [(ngModel)] = "participacionComunitaria.asistenteAsamblea" class="form-control" readonly>
                                                            </div>
                                                            <ng-template #asistenteAsamblea>
                                                                <div class="row">
                                                                    <div class="col-md-3">
                                                                        <input type="text" name="asistenteAsamblea" [(ngModel)] = "participacionComunitaria.asistenteAsamblea" class="form-control" readonly>
                                                                    </div>
                                                                    <div class= col-md-9>
                                                                        <input class="form-control" name="cargoAsamblea" [(ngModel)] = "participacionComunitaria.cargoAsamblea" type="text" readonly>
                                                                    </div>
                                                                </div>
                                                            </ng-template>
                                                          </div>
                                                        </div>
              
                                                        <div class="col-md-4">
                                                          <div class="form-group">
                                                            <Label>Asistente a trabajos tradicionales</Label>
                                                            <div *ngIf = "participacionComunitaria.aistenteTrabajos == 'NO'; else asistenteTrabajos">
                                                                <input type="text" name="aistenteTrabajos2" [(ngModel)] = "participacionComunitaria.aistenteTrabajos" class="form-control" readonly>
                                                            </div>
                                                            <ng-template #asistenteTrabajos>
                                                                <div class="row">
                                                                    <div class="col-md-3">
                                                                        <input type="text" name="aistenteTrabajos" [(ngModel)] = "participacionComunitaria.aistenteTrabajos" class="form-control" readonly>
                                                                    </div>
                                                                    <div class= col-md-9>
                                                                        <input class="form-control" name="cargoTrabajo" [(ngModel)] = "participacionComunitaria.cargoTrabajo" type="text" readonly>
                                                                    </div>
                                                                </div>
                                                            </ng-template>
                                                          </div>
                                                        </div>
              
                                                        <div class="col-md-4">
                                                          <div class="form-group">
                                                            <Label>Pertenece a una organización aparte</Label>

                                                            <div *ngIf = "participacionComunitaria.organizacionAparte == 'NO'; else asistenteOrganizacion">
                                                                <input type="text" name="organizacionAparte2" [(ngModel)] = "participacionComunitaria.organizacionAparte" class="form-control" readonly>
                                                            </div>
                                                            <ng-template #asistenteOrganizacion>
                                                                <div class="row">
                                                                    <div class="col-md-3">
                                                                        <input type="text" name="organizacionAparte" [(ngModel)] = "participacionComunitaria.organizacionAparte" class="form-control" readonly>
                                                                    </div>
                                                                    <div class= col-md-9>
                                                                        <input class="form-control" name="cualOrganizacion" [(ngModel)] = "participacionComunitaria.cualOrganizacion" type="text" readonly>
                                                                    </div>
                                                                </div>
                                                            </ng-template>

                                                          </div>
                                                        </div>
                                                        <!-- fin row -->
                                                    </div>
                                                    <!-- fin participacion comunitaria -->

                                                    <!-- habitabilidad -->

                                                    <h5 class="title title-center mt-2 mb-2">Aspecto de habitabilidad</h5>

                                                    <div class="row">
                                                      <!-- inicio row -->
                                                      <div class="col-md-4">
                                                        <div class="form-group">
                                                          <label>Tipo de vivienda</label>
                                                          <input type="text" class="form-control" name="tipoVivienda" [(ngModel)] = "habitabilidad.tipoVivienda" readonly>                                         
                                                        </div>
                                                      </div>
            
                                                      <div class="col-md-4">
                                                        <div class="form-group">
                                                          <label>Numero de habitaciones</label>
                                                          <input type="number" class="form-control" name="numeroHabitaciones" [(ngModel)] = "habitabilidad.numeroHabitaciones" readonly>
                                                        </div>
                                                      </div>
            
                                                      <div class="col-md-4">
                                                        <div class="form-group">
                                                          <label>Material predominante</label>
                                                          <input type="text" class="form-control" name="materialPredominante" [(ngModel)] = "habitabilidad.materialPredominante" readonly>  
                                                        </div>
                                                      </div>
                                                      <!-- fin row -->
                                                    </div>
            
                                                    <div class="row">
                                                      <!-- inicio row -->
                                                      <div class="col-md-4">
                                                        <div class="form-group">
                                                          <label>Tipo de cosina</label>
                                                          <input type="text" class="form-control" name="materialCosinar" [(ngModel)] = "habitabilidad.materialCosinar" readonly>
                                                        </div>
                                                      </div>
            
                                                      <div class="col-md-4">
                                                        <div class="form-group">
                                                          <label>Material para cosinar</label>
                                                          <input type="text" class="form-control" name="energiaCosinar" [(ngModel)] = "habitabilidad.energiaCosinar" readonly>
                                                        </div>
                                                      </div>
            
                                                      <div class="col-md-4">
                                                        <div class="form-group">
                                                          <label>Material del techo</label>
                                                          <input type="text" name="materialTecho" class="form-control" [(ngModel)] = "habitabilidad.materialTecho" readonly>
                                                        </div>
                                                      </div>
                                                      <!-- fin row -->
                                                    </div>
            
                                                    
                                                      <div class="row">
                                                        <!-- Inicio row -->
                                                        <div class="col-md-4">
                                                            <label>cuenta con servicio sanitario?</label>
                                                            <div *ngIf="habitabilidad.servicioSanitario == 'SI'; else asistente">
                                                                <div class="row">
                                                                    <div class="col-md-3">
                                                                        <input type="text" name="servicioSanitario" [(ngModel)] = "habitabilidad.servicioSanitario" class="form-control" readonly>
                                                                    </div>
                                                                    <div class= col-md-9>
                                                                        <input class="form-control"  type="text" readonly>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <ng-template #asistente>
                                                                <input type="text" name="servicioSanitario" [(ngModel)] = "habitabilidad.servicioSanitario" class="form-control" readonly>
                                                            </ng-template>

                                                        </div>
                                                          <div class="col-md-4">
                                                            <div class="form-group">
                                                              <label>Tipo Alumbrado</label>
                                                              <input type="text" name="tipoAlumbrado" class="form-control" [(ngModel)] = "habitabilidad.tipoAlumbrado" readonly>
                                                            </div>
                                                          </div>
            
                                                          <!-- Fin row -->
                                                      </div>
                                                    <!-- fin habitabilidad -->
                                                      <h5 class="tiitle title-center">Uso del agua</h5>
                                                    <div class="table-responsive table-full-width">
                                                        <table class="table table-striped table-bordered">
                                                          <thead>
                                                            <tr>
                                                              <th class="title title-center">Fuente</th>
                                                              <th class="title title-center">Uso domestico</th>
                                                              <th class="title title-center">Uso agricola</th>
                                                              <th class="title title-center">Disponibilidad </th>
                                                            </tr>
                                                          </thead>
                                                          <tbody>
                                                            <tr *ngFor="let field of disponibilidadAguas">
                                                              <td>
                                                                  <input name="fuente" type="text" [(ngModel)]="field.fuente" class="form-control" readonly>
                                                              </td>
                                                              <td>
                                                                <div class="checkbox">
                                                                  <input type="checkbox" name="{{field.usoDomestico}}" [(ngModel)] = "field.usoDomestico" class="checkbox">
                                                                  <!-- <label for="checkbox1"></label> -->
                                                                </div>
                                                              </td>
                                                              <td>
                                                                <div class="checkbox">
                                                                  <input  type="checkbox" name="{{field.usoAgricola}}" [(ngModel)] = "field.usoAgricola" class="checkbox">
                                                                  <!-- <label for="checkbox2"></label> -->
                                                                </div>
                                                              </td>
                                                              <td>
                                                                <input type="text" [(ngModel)]="field.disponibilidad" name="disponibilidad" class="form-control" readonly>                                                   
                                                              </td>
                                                            </tr>
                                                          </tbody>
                                                        </table>
                                                      </div>

                                                      <h5 class="title title-center">Uso y almacenamiento del agua</h5>
                                                      <div class="row">
                                                        <div class="col-md-3">
                                                          <div class="form-group">
                                                            <label>Tipo de almacenamiento</label>
                                                            <input type="text" name="tipoAlmacenamiento" [(ngModel)]="almacenamientoAgua.tipoAlmacenamiento" class="form-control">
                                                          </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                          <div class="form-group">
                                                            <label>Volumen (metros cubicos)</label>
                                                            <input type="text" class="form-control" name="volumen" [(ngModel)]="almacenamientoAgua.volumen">
                                                          </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                          <div class="form-group">
                                                            <label>Numero de usuarios</label>
                                                            <input type="number" class="form-control" [(ngModel)]="almacenamientoAgua.numeroUsuario" name="numeroUsuario">
                                                          </div>
                                                        </div>
                
                                                        <div class="col-md-3">
                                                          <div class="form-group">
                                                            <label>Estudio de calidad del agua?</label>
                                                            
                                                            <div *ngIf = "almacenamientoAgua.estudioAgua == 'SI'; else asistente">
                                                                <div class="row">
                                                                    <div class="col-md-3">
                                                                        <input type="text" name="estudioAgua" [(ngModel)] = "almacenamientoAgua.estudioAgua" class="form-control">
                                                                    </div>
                                                                    <div class= col-md-9>
                                                                        <input class="form-control" name="cualOrganizacion" type="text">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <ng-template #asistente>
                                                                <input type="text" name="estudioAgua" class="form-control">
                                                            </ng-template>
                                                          </div>
                                                        </div>
                                                        </div>
                
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <label>Se eviencia desperdicio y escape de agua en la unidad productiva?</label>
                                                                    <input type="text"  name="existeDesperdicio" [(ngModel)]="almacenamientoAgua.existeDesperdicio" class="form-control">
                                                                </div>
                                                            </div>
                    
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <label>Se hace mantenimineto de las instalaciones para la conduccion del agua?</label>
                                                                    <input type="text" name="mantenimiento" [(ngModel)]="almacenamientoAgua.mantenimiento" class="form-control">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                        

                                                    <div class="Imprimir mt-md-5 mb-md-5">
                                                        <div>
                                                            <button class="btn btn-primary" onclick="window.print();">Imprimir</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- fin de la carta -->

<div class="modal fade fadebd-example" data-backdrop="static" id="modalCart" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <h4 class="title white-text">Estado del productor</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" class="white-text title">X</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">

        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label class="title">Modificar el estado de solicitud</label>
                    <select class="form-control" name="estadoModifiicado" [(ngModel)]="estadoModificado">
                        <option value="Aprobado">Aprobado</option>
                        <option value="Rechazado">Rechazado</option>
                    </select>
                </div>
            </div>
        </div>

      </div>
      <!--Footer-->
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary title-center" data-dismiss="modal" (click)="modificar()">Modificar</button>
      </div>
    </div>
  </div>
</div>